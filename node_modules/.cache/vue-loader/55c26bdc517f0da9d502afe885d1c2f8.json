{"remainingRequest":"/home/markanthonyvale/dev/news-extractor-admin/frontend/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/markanthonyvale/dev/news-extractor-admin/frontend/admin/src/views/table/website_errors/WebsiteErrors.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/markanthonyvale/dev/news-extractor-admin/frontend/admin/src/views/table/website_errors/WebsiteErrors.vue","mtime":1618403750749},{"path":"/home/markanthonyvale/dev/news-extractor-admin/frontend/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/markanthonyvale/dev/news-extractor-admin/frontend/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/markanthonyvale/dev/news-extractor-admin/frontend/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/markanthonyvale/dev/news-extractor-admin/frontend/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6ICgpID0+ICh7CiAgICBleHBhbmRlZDogW10sCiAgICBkaWFsb2c6IGZhbHNlLAogICAgZGlhbG9nRGVsZXRlOiBmYWxzZSwKICAgIGhlYWRlcnM6IFsKICAgICAgeyB0ZXh0OiAiIiwgdmFsdWU6ICJkYXRhLXRhYmxlLWV4cGFuZCIgfSwKICAgICAgewogICAgICAgIHRleHQ6ICJXZWJzaXRlIiwKICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdmFsdWU6ICJmcWRuIiwKICAgICAgfSwKICAgICAgeyB0ZXh0OiAiRXJyb3JzIiwgYWxpZ246ICJjZW50ZXIiLCBzb3J0YWJsZTogdHJ1ZSwgdmFsdWU6ICJ0b3RhbF9lcnJvcnMiIH0sCiAgICAgIHsgdGV4dDogIkhUVFAgRXJyb3JzIiwgYWxpZ246ICJjZW50ZXIiLCBzb3J0YWJsZTogdHJ1ZSwgdmFsdWU6ICJodHRwX2Vycm9ycyIgfSwKICAgICAgeyB0ZXh0OiAiRE5TIEVycm9ycyIsIGFsaWduOiAiY2VudGVyIiwgc29ydGFibGU6IHRydWUsdmFsdWU6ICJkbnNfZXJyb3JzIiB9LAogICAgICB7IHRleHQ6ICJUaW1lb3V0IEVycm9ycyIsIGFsaWduOiAiY2VudGVyIiwgc29ydGFibGU6IHRydWUsdmFsdWU6ICJ0aW1lb3V0X2Vycm9ycyIgfSwKICAgICAgeyB0ZXh0OiAiQmFzZSBFcnJvcnMiLCBhbGlnbjogImNlbnRlciIsIHNvcnRhYmxlOiB0cnVlLHZhbHVlOiAiYmFzZV9lcnJvcnMiIH0sCiAgICAgIHsgdGV4dDogIk1pc3NlZCBVUkxzIiwgYWxpZ246ICJjZW50ZXIiLCBzb3J0YWJsZTogdHJ1ZSx2YWx1ZTogIm1pc3NlZF91cmxzIiB9LAogICAgICB7IHRleHQ6ICJBY3Rpb25zIiwgdmFsdWU6ICJhY3Rpb25zIiwgc29ydGFibGU6IGZhbHNlIH0sCiAgICBdLAogICAgZGVzc2VydHM6IFtdLAogICAgZWRpdGVkSW5kZXg6IC0xLAogICAgZWRpdGVkSXRlbTogewogICAgICBmcWRuOiAwLAogICAgICB0b3RhbF9lcnJvcnM6IDAsCiAgICAgIGh0dHBfZXJyb3JzOiAwLAogICAgICB0aW1lb3V0X2Vycm9yczogMCwKICAgICAgZG5zX2Vycm9yczogMCwKICAgICAgYmFzZV9lcnJvcnM6IDAsCiAgICAgIG1pc3NlZF91cmxzOiAwLAogICAgfSwKICAgIGRlZmF1bHRJdGVtOiB7CiAgICAgIGZxZG46IDAsCiAgICAgIHRvdGFsX2Vycm9yczogMCwKICAgICAgaHR0cF9lcnJvcnM6IDAsCiAgICAgIHRpbWVvdXRfZXJyb3JzOiAwLAogICAgICBkbnNfZXJyb3JzOiAwLAogICAgICBiYXNlX2Vycm9yczogMCwKICAgICAgbWlzc2VkX3VybHM6IDAsCiAgICB9LAogIH0pLAoKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbImdldEFydGljbGVFcnJvcnMiXSksCiAgfSwKCiAgd2F0Y2g6IHsKICAgIGRpYWxvZyh2YWwpIHsKICAgICAgdmFsIHx8IHRoaXMuY2xvc2UoKTsKICAgIH0sCiAgICBkaWFsb2dEZWxldGUodmFsKSB7CiAgICAgIHZhbCB8fCB0aGlzLmNsb3NlRGVsZXRlKCk7CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMubW91bnRXZWJzaXRlRXJyb3JSZXBvcnRzKCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgdmlld0luc3RhbmNlKGl0ZW0pewogICAgICBjb25zb2xlLmxvZyhpdGVtLmlkKQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogJ3JlcG9ydC1pbnN0YW5jZScsIHBhcmFtczoge2lkOiBpdGVtLmlkfX0pICAKICAgIH0sCiAgICBlZGl0SXRlbShpdGVtKSB7CiAgICAgIHRoaXMuZWRpdGVkSW5kZXggPSB0aGlzLmRlc3NlcnRzLmluZGV4T2YoaXRlbSk7CiAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pOwogICAgICB0aGlzLmRpYWxvZyA9IHRydWU7CiAgICB9LAoKICAgIGRlbGV0ZUl0ZW0oaXRlbSkgewogICAgICB0aGlzLmVkaXRlZEluZGV4ID0gdGhpcy5kZXNzZXJ0cy5pbmRleE9mKGl0ZW0pOwogICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKTsKICAgICAgdGhpcy5kaWFsb2dEZWxldGUgPSB0cnVlOwogICAgfSwKCiAgICBkZWxldGVJdGVtQ29uZmlybSgpIHsKICAgICAgdGhpcy5kZXNzZXJ0cy5zcGxpY2UodGhpcy5lZGl0ZWRJbmRleCwgMSk7CiAgICAgIHRoaXMuY2xvc2VEZWxldGUoKTsKICAgIH0sCgogICAgY2xvc2UoKSB7CiAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRJdGVtKTsKICAgICAgICB0aGlzLmVkaXRlZEluZGV4ID0gLTE7CiAgICAgIH0pOwogICAgfSwKCiAgICBjbG9zZURlbGV0ZSgpIHsKICAgICAgdGhpcy5kaWFsb2dEZWxldGUgPSBmYWxzZTsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdEl0ZW0pOwogICAgICAgIHRoaXMuZWRpdGVkSW5kZXggPSAtMTsKICAgICAgfSk7CiAgICB9LAoKICAgIHNhdmUoKSB7CiAgICAgIGlmICh0aGlzLmVkaXRlZEluZGV4ID4gLTEpIHsKICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZGVzc2VydHNbdGhpcy5lZGl0ZWRJbmRleF0sIHRoaXMuZWRpdGVkSXRlbSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kZXNzZXJ0cy5wdXNoKHRoaXMuZWRpdGVkSXRlbSk7CiAgICAgIH0KICAgICAgdGhpcy5jbG9zZSgpOwogICAgfSwKICAgIAogICAgbW91bnRXZWJzaXRlRXJyb3JSZXBvcnRzKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgid2Vic2l0ZUVycm9yUmVwb3J0cyIpOwogICAgfSwKCiAgICAvLyBjdXN0b20gc29ydGluZwogICAgY3VzdG9tU29ydDogZnVuY3Rpb24oaXRlbXMsIGluZGV4LCBpc0Rlc2MpIHsKICAgICAgaXRlbXMuc29ydCgoYSwgYikgPT4gewogICAgICAgICAgaWYgKGluZGV4WzBdPT0nZGF0ZScpIHsKICAgICAgICAgICAgaWYgKCFpc0Rlc2NbMF0pIHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShiW2luZGV4XSkgLSBuZXcgRGF0ZShhW2luZGV4XSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoYVtpbmRleF0pIC0gbmV3IERhdGUoYltpbmRleF0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgaWYodHlwZW9mIGFbaW5kZXhdICE9PSAndW5kZWZpbmVkJyl7CiAgICAgICAgICAgICAgaWYgKCFpc0Rlc2NbMF0pIHsKICAgICAgICAgICAgICAgICByZXR1cm4gYVtpbmRleF0udG9Mb3dlckNhc2UoKS5sb2NhbGVDb21wYXJlKGJbaW5kZXhdLnRvTG93ZXJDYXNlKCkpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGJbaW5kZXhdLnRvTG93ZXJDYXNlKCkubG9jYWxlQ29tcGFyZShhW2luZGV4XS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBpdGVtczsKICAgIH0KCiAgfSwKfTsK"},{"version":3,"sources":["WebsiteErrors.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"WebsiteErrors.vue","sourceRoot":"src/views/table/website_errors","sourcesContent":["<template>\n  <div>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"getArticleErrors\"\n      :sort-by=\"['fqdn', 'total_errors', 'http_errors', 'dns_errors', 'timeout_errors']\"\n      class=\"elevation-1 mt-10 pt-10\"\n      dark\n    >\n      <template v-slot:top>\n        <v-toolbar flat>\n          <v-toolbar-title>Website Errors</v-toolbar-title>\n          <v-divider class=\"mx-4\" inset vertical></v-divider>\n          <v-spacer></v-spacer>\n        </v-toolbar>\n      </template>\n\n      <template v-slot:item.fqdn=\"{ item }\">\n        <span>{{ item.fqdn }}</span>\n      </template>\n\n      <template v-slot:item.total_errors=\"{ item }\">\n        {{ item.total_errors }}\n      </template>\n\n      <template v-slot:item.http_errors=\"{ item }\">\n          {{ item.total_http_errors }}\n      </template>\n\n      <template v-slot:item.dns_errors=\"{ item }\">\n        {{ item.total_dns_error }}\n      </template>\n\n      <template v-slot:item.timeout_errors=\"{ item }\">\n        {{ item.total_timeout_error }}\n      </template>\n\n      <template v-slot:item.base_errors=\"{ item }\">\n        {{ item.total_base_error }}\n      </template>\n\n      <template v-slot:item.missed_urls=\"{ item }\">\n        <span>{{ item.total_missed_url }}</span>\n      </template>\n\n      <template v-slot:item.actions=\"{ item }\">\n        <v-icon small class=\"mr-2\" color=\"primary\" @click=\"viewInstance(item)\">\n          mdi-eye\n        </v-icon>\n        <v-icon small class=\"mr-2\" color=\"success\" @click=\"editItem(item)\">\n          mdi-pencil\n        </v-icon>\n        <v-icon small @click=\"deleteItem(item)\" color=\"red\">\n          mdi-delete\n        </v-icon>\n      </template>\n      <template v-slot:no-data>\n        loading...\n        <!-- <v-btn color=\"primary\"> Reset </v-btn> -->\n      </template>\n    </v-data-table>\n  </div>\n</template>\n<script>\nimport { mapGetters } from \"vuex\";\nexport default {\n  data: () => ({\n    expanded: [],\n    dialog: false,\n    dialogDelete: false,\n    headers: [\n      { text: \"\", value: \"data-table-expand\" },\n      {\n        text: \"Website\",\n        align: \"center\",\n        sortable: true,\n        value: \"fqdn\",\n      },\n      { text: \"Errors\", align: \"center\", sortable: true, value: \"total_errors\" },\n      { text: \"HTTP Errors\", align: \"center\", sortable: true, value: \"http_errors\" },\n      { text: \"DNS Errors\", align: \"center\", sortable: true,value: \"dns_errors\" },\n      { text: \"Timeout Errors\", align: \"center\", sortable: true,value: \"timeout_errors\" },\n      { text: \"Base Errors\", align: \"center\", sortable: true,value: \"base_errors\" },\n      { text: \"Missed URLs\", align: \"center\", sortable: true,value: \"missed_urls\" },\n      { text: \"Actions\", value: \"actions\", sortable: false },\n    ],\n    desserts: [],\n    editedIndex: -1,\n    editedItem: {\n      fqdn: 0,\n      total_errors: 0,\n      http_errors: 0,\n      timeout_errors: 0,\n      dns_errors: 0,\n      base_errors: 0,\n      missed_urls: 0,\n    },\n    defaultItem: {\n      fqdn: 0,\n      total_errors: 0,\n      http_errors: 0,\n      timeout_errors: 0,\n      dns_errors: 0,\n      base_errors: 0,\n      missed_urls: 0,\n    },\n  }),\n\n  computed: {\n    ...mapGetters([\"getArticleErrors\"]),\n  },\n\n  watch: {\n    dialog(val) {\n      val || this.close();\n    },\n    dialogDelete(val) {\n      val || this.closeDelete();\n    },\n  },\n  mounted() {\n    this.mountWebsiteErrorReports();\n  },\n\n  methods: {\n    viewInstance(item){\n      console.log(item.id)\n      this.$router.push({name: 'report-instance', params: {id: item.id}})  \n    },\n    editItem(item) {\n      this.editedIndex = this.desserts.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialog = true;\n    },\n\n    deleteItem(item) {\n      this.editedIndex = this.desserts.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialogDelete = true;\n    },\n\n    deleteItemConfirm() {\n      this.desserts.splice(this.editedIndex, 1);\n      this.closeDelete();\n    },\n\n    close() {\n      this.dialog = false;\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem);\n        this.editedIndex = -1;\n      });\n    },\n\n    closeDelete() {\n      this.dialogDelete = false;\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem);\n        this.editedIndex = -1;\n      });\n    },\n\n    save() {\n      if (this.editedIndex > -1) {\n        Object.assign(this.desserts[this.editedIndex], this.editedItem);\n      } else {\n        this.desserts.push(this.editedItem);\n      }\n      this.close();\n    },\n    \n    mountWebsiteErrorReports() {\n      this.$store.dispatch(\"websiteErrorReports\");\n    },\n\n    // custom sorting\n    customSort: function(items, index, isDesc) {\n      items.sort((a, b) => {\n          if (index[0]=='date') {\n            if (!isDesc[0]) {\n                return new Date(b[index]) - new Date(a[index]);\n            } else {\n                return new Date(a[index]) - new Date(b[index]);\n            }\n          }\n          else {\n            if(typeof a[index] !== 'undefined'){\n              if (!isDesc[0]) {\n                 return a[index].toLowerCase().localeCompare(b[index].toLowerCase());\n              }\n              else {\n                  return b[index].toLowerCase().localeCompare(a[index].toLowerCase());\n              }\n            }\n          }\n      });\n      return items;\n    }\n\n  },\n};\n</script>\n\n<style scoped>\n.truncate {\n      max-width: 1px;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n</style>"]}]}