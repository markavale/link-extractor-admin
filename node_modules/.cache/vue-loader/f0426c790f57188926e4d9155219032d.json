{"remainingRequest":"/home/markanthonyvale/dev/news-extractor-admin/frontend/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/markanthonyvale/dev/news-extractor-admin/frontend/admin/src/views/auth/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/markanthonyvale/dev/news-extractor-admin/frontend/admin/src/views/auth/Register.vue","mtime":1616009868005},{"path":"/home/markanthonyvale/dev/news-extractor-admin/frontend/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/markanthonyvale/dev/news-extractor-admin/frontend/admin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/markanthonyvale/dev/news-extractor-admin/frontend/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/markanthonyvale/dev/news-extractor-admin/frontend/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/markanthonyvale/dev/news-extractor-admin/frontend/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCBOYXZiYXIgZnJvbSAiQC9jb21wb25lbnRzL05hdmJhciI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlNpZ25VcCIsCiAgY29tcG9uZW50czogewogICAgLy8gTmF2YmFyLAogIH0sCiAgZGF0YTogKCkgPT4gKHsKICAgIGVycm9yczogW10sCiAgICBsb2FkaW5nOiBmYWxzZSwKICAgIHNuYWNrYmFyOiBmYWxzZSwKICAgIHVzZXJuYW1lOiAiIiwKICAgIGVtYWlsOiAiIiwKICAgIHBhc3N3b3JkMTogIiIsCiAgICBwYXNzd29yZDI6ICIiLAogICAgcGFzc1Nob3c6IHRydWUsCiAgICBkaWFsb2c6IGZhbHNlLAogICAgZW1haWxfdmVyaWZpY2F0aW9uOiAiIiwKICAgIHJ1bGVzOiB7CiAgICAgIHJlcXVpcmVkOiAodmFsdWUpID0+ICEhdmFsdWUgfHwgIlJlcXVpcmVkIiwKICAgICAgdXNlcm5hbWU6ICh2YWx1ZSkgPT4gewogICAgICAgIGNvbnN0IHBhdHRlcm4gPSAvXihbYS16YS16MC05XHUwNjAwLVx1MDZGRlx1MDY2MC1cdTA2NjlcdTA2RjAtXHUwNkY5IF8uLV0rKSQvOwogICAgICAgIC8vIGNvbnN0IHBhdHRlcm4gPSAvXlthLXphLXowLTldKyQvCiAgICAgICAgcmV0dXJuICgKICAgICAgICAgIHBhdHRlcm4udGVzdCh2YWx1ZSkgfHwKICAgICAgICAgICJVc2VybmFtZSBtdXN0IGJlIGFscGhhbnVtZXJpYyBvciBjb250YWluIG51bWJlcnMgYW5kIGxvd2VyY2Fwcy4iCiAgICAgICAgKTsKICAgICAgfSwKICAgICAgZW1haWw6ICh2YWx1ZSkgPT4gewogICAgICAgIGNvbnN0IHBhdHRlcm4gPSAvXigoW148PigpW1xdXFwuLDs6XHNAIl0rKFwuW148PigpW1xdXFwuLDs6XHNAIl0rKSopfCgiLisiKSlAKChcW1swLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31dKXwoKFthLXpBLVpcLTAtOV0rXC4pK1thLXpBLVpdezIsfSkpJC87CiAgICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh2YWx1ZSkgfHwgIkludmFsaWQgZS1tYWlsLiI7CiAgICAgIH0sCiAgICB9LAogICAgZXJyb3I6IGZhbHNlLAogIH0pLAogIGNvbXB1dGVkOiB7CiAgICBwYXNzd29yZEVycm9yczEoKSB7CiAgICAgIGlmICh0aGlzLnBhc3N3b3JkMSA9PT0gIiIpIHJldHVybiAiUGFzc3dvcmQgaXMgcmVxdWlyZWQiOwogICAgICBpZiAodGhpcy5wYXNzd29yZDEgIT09IHRoaXMucGFzc3dvcmQyKSB7CiAgICAgICAgcmV0dXJuICJQYXNzd29yZCBkb24ndCBtYXRjaC4gUGxlYXNlIHRyeSBhZ2Fpbi4iOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKICAgIHBhc3N3b3JkRXJyb3JzMigpIHsKICAgICAgaWYgKHRoaXMucGFzc3dvcmQyID09PSAiIikgcmV0dXJuICJQYXNzd29yZCBjb25maXJtYXRpb24gaXMgcmVxdWlyZWQiOwogICAgICBpZiAodGhpcy5wYXNzd29yZDEgIT09IHRoaXMucGFzc3dvcmQyKSB7CiAgICAgICAgcmV0dXJuICJQYXNzd29yZCBkb24ndCBtYXRjaC4gUGxlYXNlIHRyeSBhZ2Fpbi4iOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBjbG9zZURpYWxvZygpIHsKICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy5zbmFja2JhciA9IHRydWU7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogImxvZ2luIiB9KTsKICAgICAgfSwgMzAwMCk7CiAgICB9LAogICAgUmVnaXN0ZXJVc2VyKCkgewogICAgICB0aGlzLmVycm9ycyA9IFtdOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLiRzdG9yZQogICAgICAgIC5kaXNwYXRjaCgiUmVnaXN0ZXIiLCB7CiAgICAgICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSwKICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgICAgcGFzc3dvcmQxOiB0aGlzLnBhc3N3b3JkMSwKICAgICAgICAgIHBhc3N3b3JkMjogdGhpcy5wYXNzd29yZDIsCiAgICAgICAgICAvLyBkb250IGFkZCBjb21tYSAoLCkgYXQgdGhlIGxhc3Qgb2YgZmllbGRzCiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgICB0aGlzLmVtYWlsX3ZlcmlmaWNhdGlvbiA9IHRoaXMuZW1haWw7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZTsKICAgICAgICAgICh0aGlzLnVzZXJuYW1lID0gIiIpLAogICAgICAgICAgICAodGhpcy5lbWFpbCA9ICIiKSwKICAgICAgICAgICAgKHRoaXMucGFzc3dvcmQxID0gIiIpLAogICAgICAgICAgICAodGhpcy5wYXNzd29yZDIgPSAiIik7CiAgICAgICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXQoKQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgIGxldCBlcnJvcl9kYXRhID0gZXJyLnJlc3BvbnNlLmRhdGE7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcl9kYXRhKTsKICAgICAgICAgIGZvciAoY29uc3QgZmllbGRfZXJyb3IgaW4gZXJyb3JfZGF0YSkgewogICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKGVycm9yX2RhdGFbZmllbGRfZXJyb3JdWzBdKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlOwogICAgICAgIH0pOwogICAgfSwKICAgIHZhbGlkKCkgewogICAgICByZXR1cm4gdGhpcy5wYXNzd29yZDEgPT09IHRoaXMucGFzc3dvcmQyOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views/auth","sourcesContent":["<template>\n  <div>\n    <!-- <Navbar /> -->\n    <v-container  fill-height class=\"mt-10\">\n      <v-layout align-center justify-center>\n        <v-flex xs12 sm8 md6>\n          <v-card class=\"elivation-12\" :disabled=\"loading\">\n            <v-progress-linear\n            :active=\"loading\"\n            :indeterminate=\"loading\"\n            height=\"5\"\n          ></v-progress-linear>\n            <v-toolbar dark color=\"blue\">\n              <v-toolbar-title>Sign Up Form</v-toolbar-title>\n            </v-toolbar>\n            <v-card-text>\n              <v-form ref=\"form\">\n                <v-alert :value=\"error\" color=\"error\" icon=\"warning\" dark>\n                  <b>Please correct the following error(s):</b>\n                  <ul>\n                    <li\n                      v-for=\"error in errors\"\n                      :key=\"error.id\"\n                      class=\"text-md-left\"\n                    >\n                      {{ error }}\n                    </li>\n                  </ul>\n                </v-alert>\n                <v-text-field\n                  v-model=\"username\"\n                  prepend-icon=\"person\"\n                  name=\"username\"\n                  label=\"Username\"\n                  :rules=\"[rules.required, rules.username]\"\n                >\n                </v-text-field>\n                <v-text-field\n                  v-model=\"email\"\n                  prepend-icon=\"email\"\n                  name=\"email\"\n                  label=\"Email\"\n                  :rules=\"[rules.required, rules.email]\"\n                  type=\"email\"\n                >\n                </v-text-field>\n                <v-text-field\n                  prepend-icon=\"lock\"\n                  name=\"password\"\n                  label=\"Password\"\n                  :rules=\"[passwordErrors1]\"\n                  v-model=\"password1\"\n                  :error=\"!valid()\"\n                  :append-icon=\"passShow ? 'mdi-eye' : 'mdi-eye-off'\"\n                  @click:append=\"() => (passShow = !passShow)\"\n                  :type=\"passShow ? 'password' : 'text'\"\n                >\n                </v-text-field>\n                <v-text-field\n                  prepend-icon=\"lock\"\n                  name=\"password\"\n                  label=\"Confirm Password\"\n                  :rules=\"[passwordErrors2]\"\n                  v-model=\"password2\"\n                  :error=\"!valid()\"\n                  @keyup.enter=\"RegisterUser\"\n                  :append-icon=\"passShow ? 'mdi-eye' : 'mdi-eye-off'\"\n                  @click:append=\"() => (passShow = !passShow)\"\n                  :type=\"passShow ? 'password' : 'text'\"\n                >\n                </v-text-field>\n              </v-form>\n            </v-card-text>\n            <v-divider light></v-divider>\n            <v-card-actions>\n              <router-link to=\"/login\" class=\"nav-link\">\n                <v-btn rounded color=\"black\" dark>Sign In</v-btn>\n              </router-link>\n              <v-spacer></v-spacer>\n              <v-btn rounded color=\"success\" @click.prevent=\"RegisterUser\"\n                >Register\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-flex>\n      </v-layout>\n\n      <v-row justify=\"center\">\n        <v-dialog v-model=\"dialog\" persistent max-width=\"400\">\n          <v-card>\n            <v-card-title class=\"headline\"> Email Verification </v-card-title>\n            <v-card-text class=\"text-left\"\n              ><p class=\"subtitle-2\">\n                We have sent an email to <b>{{ email_verification }}</b\n                >. Please verify your account.\n              </p></v-card-text\n            >\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"secondary\" text @click=\"closeDialog\">\n                Close\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-row>\n\n      <!-- <div class=\"text-start\"> -->\n      <v-snackbar v-model=\"snackbar\" :timeout=\"2500\" left>\n        Redirecting to login page..\n        <template v-slot:action=\"{ attrs }\">\n          <v-btn color=\"blue\" text v-bind=\"attrs\" @click=\"snackbar = false\">\n            Close\n          </v-btn>\n        </template>\n      </v-snackbar>\n      <!-- </div> -->\n    </v-container>\n  </div>\n</template>\n\n<script>\n// import Navbar from \"@/components/Navbar\";\n\nexport default {\n  name: \"SignUp\",\n  components: {\n    // Navbar,\n  },\n  data: () => ({\n    errors: [],\n    loading: false,\n    snackbar: false,\n    username: \"\",\n    email: \"\",\n    password1: \"\",\n    password2: \"\",\n    passShow: true,\n    dialog: false,\n    email_verification: \"\",\n    rules: {\n      required: (value) => !!value || \"Required\",\n      username: (value) => {\n        const pattern = /^([a-za-z0-9\\u0600-\\u06FF\\u0660-\\u0669\\u06F0-\\u06F9 _.-]+)$/;\n        // const pattern = /^[a-za-z0-9]+$/\n        return (\n          pattern.test(value) ||\n          \"Username must be alphanumeric or contain numbers and lowercaps.\"\n        );\n      },\n      email: (value) => {\n        const pattern = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        return pattern.test(value) || \"Invalid e-mail.\";\n      },\n    },\n    error: false,\n  }),\n  computed: {\n    passwordErrors1() {\n      if (this.password1 === \"\") return \"Password is required\";\n      if (this.password1 !== this.password2) {\n        return \"Password don't match. Please try again.\";\n      }\n      return true;\n    },\n    passwordErrors2() {\n      if (this.password2 === \"\") return \"Password confirmation is required\";\n      if (this.password1 !== this.password2) {\n        return \"Password don't match. Please try again.\";\n      }\n      return true;\n    },\n  },\n  created() {},\n  methods: {\n    closeDialog() {\n      this.dialog = false;\n      this.snackbar = true;\n      setTimeout(() => {\n        this.$router.push({ name: \"login\" });\n      }, 3000);\n    },\n    RegisterUser() {\n      this.errors = [];\n      this.loading = true;\n      this.$store\n        .dispatch(\"Register\", {\n          username: this.username,\n          email: this.email,\n          password1: this.password1,\n          password2: this.password2,\n          // dont add comma (,) at the last of fields\n        })\n        .then((res) => {\n          console.log(res.data);\n          this.email_verification = this.email;\n          this.loading = false;\n          this.dialog = true;\n          (this.username = \"\"),\n            (this.email = \"\"),\n            (this.password1 = \"\"),\n            (this.password2 = \"\");\n          this.$refs.form.reset()\n        })\n        .catch((err) => {\n          this.loading = false;\n          console.log(err);\n          let error_data = err.response.data;\n          console.log(error_data);\n          for (const field_error in error_data) {\n            this.errors.push(error_data[field_error][0]);\n          }\n          this.error = true;\n        });\n    },\n    valid() {\n      return this.password1 === this.password2;\n    },\n  },\n};\n</script>\n\n<style>\n</style>"]}]}