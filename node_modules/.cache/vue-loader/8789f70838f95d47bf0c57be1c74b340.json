{"remainingRequest":"/home/markanthonyvale/dev/news-extractor-admin/frontend/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/markanthonyvale/dev/news-extractor-admin/frontend/admin/src/views/table/download_reports/DownloadLatencyReports.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/markanthonyvale/dev/news-extractor-admin/frontend/admin/src/views/table/download_reports/DownloadLatencyReports.vue","mtime":1618450428476},{"path":"/home/markanthonyvale/dev/news-extractor-admin/frontend/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/markanthonyvale/dev/news-extractor-admin/frontend/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/markanthonyvale/dev/news-extractor-admin/frontend/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/markanthonyvale/dev/news-extractor-admin/frontend/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogKCkgPT4gKHsKICAgIGV4cGFuZGVkOiBbXSwKICAgIGRpYWxvZzogZmFsc2UsCiAgICBkaWFsb2dEZWxldGU6IGZhbHNlLAogICAgaGVhZGVyczogWwogICAgICB7IHRleHQ6ICIiLCB2YWx1ZTogImRhdGEtdGFibGUtZXhwYW5kIiB9LAogICAgICB7CiAgICAgICAgdGV4dDogIldlYnNpdGUiLAogICAgICAgIGFsaWduOiAiY2VudGVyIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB2YWx1ZTogImZxZG4iLAogICAgICB9LAogICAgICB7IHRleHQ6ICJBdmVyYWdlIERvd25sb2FkIExhdGVuY3kiLCBhbGlnbjogImNlbnRlciIsIHZhbHVlOiAiYXZlcmFnZV9kb3dubG9hZF9sYXRlbmN5IiB9LAogICAgICB7IHRleHQ6ICJUb3RhbCBEb3dubG9hZCBMYXRlbmN5IiwgYWxpZ246ICJjZW50ZXIiLCB2YWx1ZTogInRvdGFsX29iamVjdHMiIH0sCiAgICAgIHsgdGV4dDogIkFjdGlvbnMiLCB2YWx1ZTogImFjdGlvbnMiLCBzb3J0YWJsZTogZmFsc2UgfSwKICAgIF0sCiAgICBkZXNzZXJ0czogW10sCiAgICBlZGl0ZWRJbmRleDogLTEsCiAgICBlZGl0ZWRJdGVtOiB7CiAgICAgIGRhdGE6IDAsCiAgICAgIHBhcnNlOiAwLAogICAgICBzcGlkZXI6IDAsCiAgICAgIHRocmVhZF9zcGlkZXI6IDAsCiAgICAgIGFydGljbGU6IDAsCiAgICB9LAogICAgZGVmYXVsdEl0ZW06IHsKICAgICAgZGF0YTogMCwKICAgICAgYXJ0aWNsZXM6IDIxLAogICAgICBzdWNjZXNzX3BhcnNlOiAwLAogICAgICB1bnN1Y2Nlc3NfcGFyc2U6IDAsCiAgICAgIG1pc3NlZF9hcnRpY2xlczogMCwKICAgICAgZG93bmxvYWRfbGF0ZW5jeTogMCwKICAgICAgc3BpZGVyczogMCwKICAgICAgdGhyZWFkczogMCwKICAgICAgdGltZV9maW5pc2g6IDAsCiAgICAgIGRhdGU6IG51bGwsCiAgICB9LAogIH0pLAoKICBjb21wdXRlZDogewogICAgZm9ybVRpdGxlKCkgewogICAgICByZXR1cm4gdGhpcy5lZGl0ZWRJbmRleCA9PT0gLTEgPyAiTmV3IEl0ZW0iIDogIkVkaXQgSXRlbSI7CiAgICB9LAogICAgLi4ubWFwR2V0dGVycyhbImdldFdlYnNpdGVEb3dubG9hZExhdGVuY3kiXSksCiAgfSwKCiAgd2F0Y2g6IHsKICAgIGRpYWxvZyh2YWwpIHsKICAgICAgdmFsIHx8IHRoaXMuY2xvc2UoKTsKICAgIH0sCiAgICBkaWFsb2dEZWxldGUodmFsKSB7CiAgICAgIHZhbCB8fCB0aGlzLmNsb3NlRGVsZXRlKCk7CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMubW91bnRXZWJzaXRlRG93bmxvYWRMYXRlbmN5KCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgdmlld0luc3RhbmNlKGl0ZW0pewogICAgICBjb25zb2xlLmxvZyhpdGVtLmlkKQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogJ3JlcG9ydC1pbnN0YW5jZScsIHBhcmFtczoge2lkOiBpdGVtLmlkfX0pICAKICAgIH0sCiAgICBnZXRDb2xvcihpdGVtKSB7CiAgICAgIGlmIChpdGVtLmNyYXdsZXJfc2V0LnBhcnNlcl9wZXJjZW50YWdlIDwgNzUpIHJldHVybiAicmVkIjsKICAgICAgZWxzZSBpZiAoaXRlbS5jcmF3bGVyX3NldC5wYXJzZXJfcGVyY2VudGFnZSA+IDkwKSByZXR1cm4gImdyZWVuIjsKICAgICAgZWxzZSByZXR1cm4gIm9yYW5nZSI7CiAgICB9LAoKICAgIGVkaXRJdGVtKGl0ZW0pIHsKICAgICAgdGhpcy5lZGl0ZWRJbmRleCA9IHRoaXMuZGVzc2VydHMuaW5kZXhPZihpdGVtKTsKICAgICAgdGhpcy5lZGl0ZWRJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7CiAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZTsKICAgIH0sCgogICAgZGVsZXRlSXRlbShpdGVtKSB7CiAgICAgIHRoaXMuZWRpdGVkSW5kZXggPSB0aGlzLmRlc3NlcnRzLmluZGV4T2YoaXRlbSk7CiAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pOwogICAgICB0aGlzLmRpYWxvZ0RlbGV0ZSA9IHRydWU7CiAgICB9LAoKICAgIGRlbGV0ZUl0ZW1Db25maXJtKCkgewogICAgICB0aGlzLmRlc3NlcnRzLnNwbGljZSh0aGlzLmVkaXRlZEluZGV4LCAxKTsKICAgICAgdGhpcy5jbG9zZURlbGV0ZSgpOwogICAgfSwKCiAgICBjbG9zZSgpIHsKICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdEl0ZW0pOwogICAgICAgIHRoaXMuZWRpdGVkSW5kZXggPSAtMTsKICAgICAgfSk7CiAgICB9LAoKICAgIGNsb3NlRGVsZXRlKCkgewogICAgICB0aGlzLmRpYWxvZ0RlbGV0ZSA9IGZhbHNlOwogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy5lZGl0ZWRJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0SXRlbSk7CiAgICAgICAgdGhpcy5lZGl0ZWRJbmRleCA9IC0xOwogICAgICB9KTsKICAgIH0sCgogICAgc2F2ZSgpIHsKICAgICAgaWYgKHRoaXMuZWRpdGVkSW5kZXggPiAtMSkgewogICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5kZXNzZXJ0c1t0aGlzLmVkaXRlZEluZGV4XSwgdGhpcy5lZGl0ZWRJdGVtKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmRlc3NlcnRzLnB1c2godGhpcy5lZGl0ZWRJdGVtKTsKICAgICAgfQogICAgICB0aGlzLmNsb3NlKCk7CiAgICB9LAogICAgbW91bnRXZWJzaXRlRG93bmxvYWRMYXRlbmN5KCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgid2Vic2l0ZURvd25sb2FkTGF0ZW5jeSIpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["DownloadLatencyReports.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DownloadLatencyReports.vue","sourceRoot":"src/views/table/download_reports","sourcesContent":["<template>\n  <div>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"getWebsiteDownloadLatency\"\n      sort-by=\"parse\"\n      class=\"elevation-1 mt-10 pt-10\"\n      show-expand\n      :single-expand=\"true\"\n      :expanded.sync=\"expanded\"\n      dark\n    >\n      <template v-slot:top>\n        <v-toolbar flat>\n          <v-toolbar-title>Website Download Latency</v-toolbar-title>\n          <v-divider class=\"mx-4\" inset vertical></v-divider>\n          <v-spacer></v-spacer>\n          <v-tooltip top>\n            <template v-slot:activator=\"{ on, attrs }\">\n              <download-excel\n                \n                class=\"\"\n                :data=\"getWebsiteDownloadLatency\"\n                worksheet=\"My Worksheet\"\n                name=\"website_download_latency.xls\"\n              >\n                <v-btn color=\"#31BE7D\" v-bind=\"attrs\"\n                v-on=\"on\" class=\"ma-2 white--text\" fab small>\n                  <v-icon dark> mdi-microsoft-excel </v-icon>\n                </v-btn>\n              </download-excel>\n            </template>\n            <span>Export to excel file</span>\n          </v-tooltip>\n          <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n            <v-card>\n              <v-card-title class=\"headline\"\n                >Are you sure you want to delete this item?</v-card-title\n              >\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"blue darken-1\" text @click=\"closeDelete\"\n                  >Cancel</v-btn\n                >\n                <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\"\n                  >OK</v-btn\n                >\n                <v-spacer></v-spacer>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n        </v-toolbar>\n      </template>\n      <template v-slot:expanded-item=\"{headers, item }\">\n        <td :colspan=\"headers.length\">\n            <v-container>\n              <v-card\n                color=\"#385F73\"\n                dark\n                height=\"auto\"\n                max-width=\"750px\"\n              >\n                <v-card-title class=\"headline\"\n                  ><v-icon class=\"mr-2\">mdi-view-list</v-icon>Download Latency List\n                </v-card-title>\n                <v-card-text\n                  >{{ item.download_latency_objects }}</v-card-text\n                >\n              </v-card>\n            </v-container>\n        </td>\n      </template>\n\n      <template v-slot:item.fqdn=\"{ item }\">\n        <span><a :href=\"'http://www.'+item.fqdn\">{{ item.fqdn }}</a></span>\n      </template>\n\n      <template v-slot:item.average_download_latency=\"{ item }\">\n        {{ item.average_download_latency }}\n      </template>\n\n      <template v-slot:item.total_objects=\"{ item }\">\n          {{ item.total_objects }}\n      </template>\n      <template v-slot:item.actions=\"{ item }\">\n        <v-icon small class=\"mr-2\" color=\"primary\" @click=\"viewInstance(item)\">\n          mdi-eye\n        </v-icon>\n        <v-icon small class=\"mr-2\" color=\"success\" @click=\"editItem(item)\">\n          mdi-pencil\n        </v-icon>\n        <v-icon small @click=\"deleteItem(item)\" color=\"red\">\n          mdi-delete\n        </v-icon>\n      </template>\n      <template v-slot:no-data>\n        loading...\n        <!-- <v-btn color=\"primary\"> Reset </v-btn> -->\n      </template>\n    </v-data-table>\n  </div>\n</template>\n<script>\n// import moment from \"moment\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  data: () => ({\n    expanded: [],\n    dialog: false,\n    dialogDelete: false,\n    headers: [\n      { text: \"\", value: \"data-table-expand\" },\n      {\n        text: \"Website\",\n        align: \"center\",\n        sortable: true,\n        value: \"fqdn\",\n      },\n      { text: \"Average Download Latency\", align: \"center\", value: \"average_download_latency\" },\n      { text: \"Total Download Latency\", align: \"center\", value: \"total_objects\" },\n      { text: \"Actions\", value: \"actions\", sortable: false },\n    ],\n    desserts: [],\n    editedIndex: -1,\n    editedItem: {\n      data: 0,\n      parse: 0,\n      spider: 0,\n      thread_spider: 0,\n      article: 0,\n    },\n    defaultItem: {\n      data: 0,\n      articles: 21,\n      success_parse: 0,\n      unsuccess_parse: 0,\n      missed_articles: 0,\n      download_latency: 0,\n      spiders: 0,\n      threads: 0,\n      time_finish: 0,\n      date: null,\n    },\n  }),\n\n  computed: {\n    formTitle() {\n      return this.editedIndex === -1 ? \"New Item\" : \"Edit Item\";\n    },\n    ...mapGetters([\"getWebsiteDownloadLatency\"]),\n  },\n\n  watch: {\n    dialog(val) {\n      val || this.close();\n    },\n    dialogDelete(val) {\n      val || this.closeDelete();\n    },\n  },\n  mounted() {\n    this.mountWebsiteDownloadLatency();\n  },\n\n  methods: {\n    viewInstance(item){\n      console.log(item.id)\n      this.$router.push({name: 'report-instance', params: {id: item.id}})  \n    },\n    getColor(item) {\n      if (item.crawler_set.parser_percentage < 75) return \"red\";\n      else if (item.crawler_set.parser_percentage > 90) return \"green\";\n      else return \"orange\";\n    },\n\n    editItem(item) {\n      this.editedIndex = this.desserts.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialog = true;\n    },\n\n    deleteItem(item) {\n      this.editedIndex = this.desserts.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialogDelete = true;\n    },\n\n    deleteItemConfirm() {\n      this.desserts.splice(this.editedIndex, 1);\n      this.closeDelete();\n    },\n\n    close() {\n      this.dialog = false;\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem);\n        this.editedIndex = -1;\n      });\n    },\n\n    closeDelete() {\n      this.dialogDelete = false;\n      this.$nextTick(() => {\n        this.editedItem = Object.assign({}, this.defaultItem);\n        this.editedIndex = -1;\n      });\n    },\n\n    save() {\n      if (this.editedIndex > -1) {\n        Object.assign(this.desserts[this.editedIndex], this.editedItem);\n      } else {\n        this.desserts.push(this.editedItem);\n      }\n      this.close();\n    },\n    mountWebsiteDownloadLatency() {\n      this.$store.dispatch(\"websiteDownloadLatency\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n.truncate {\n      max-width: 1px;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n</style>"]}]}