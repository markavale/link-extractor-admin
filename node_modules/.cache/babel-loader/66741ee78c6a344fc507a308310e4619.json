{"remainingRequest":"/home/markanthonyvale/dev/news-extractor-admin/frontend/djangovue-template/node_modules/babel-loader/lib/index.js!/home/markanthonyvale/dev/news-extractor-admin/frontend/djangovue-template/node_modules/eslint-loader/index.js??ref--13-0!/home/markanthonyvale/dev/news-extractor-admin/frontend/djangovue-template/src/store/modules/user.js","dependencies":[{"path":"/home/markanthonyvale/dev/news-extractor-admin/frontend/djangovue-template/src/store/modules/user.js","mtime":1615443081701},{"path":"/home/markanthonyvale/dev/news-extractor-admin/frontend/djangovue-template/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/markanthonyvale/dev/news-extractor-admin/frontend/djangovue-template/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/markanthonyvale/dev/news-extractor-admin/frontend/djangovue-template/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCB7IGF4aW9zQmFzZSB9IGZyb20gIkAvYXBpL2F4aW9zQ29uZmlnIjsgLy8gaW1wb3J0IGluZGV4IGZyb20gJ0Avc3RvcmUvaW5kZXgnOwoKaW1wb3J0IHJvdXRlciBmcm9tICJAL3JvdXRlciI7IC8vIGltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7Cgp2YXIgc3RhdGUgPSB7CiAgdXNlcnM6IFtdLAogIGlzUG9wVXA6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJpc1BvcFVwIikgfHwgbnVsbCwKICB1c2VyOiB7fSwKICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIikgfHwgbnVsbAp9Owp2YXIgZ2V0dGVycyA9IHsKICBnZXRVc2VyczogZnVuY3Rpb24gZ2V0VXNlcnMoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS51c2VyczsKICB9LAogIGlzQXV0aGVudGljYXRlZDogZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUudG9rZW4gIT0gbnVsbDsgLy8gcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpICE9IG51bGwKICB9LAogIGdldEFjY2Vzc1Rva2VuOiBmdW5jdGlvbiBnZXRBY2Nlc3NUb2tlbihzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnRva2VuOwogIH0sCiAgcmVxdWVzdFVzZXI6IGZ1bmN0aW9uIHJlcXVlc3RVc2VyKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUudXNlcjsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIGZldGNoVXNlcnM6IGZ1bmN0aW9uIGZldGNoVXNlcnMoX3JlZikgewogICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgYXhpb3NCYXNlLmdldCgiYXV0aC91c2VyLyIsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsCiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiVG9rZW4gIi5jb25jYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIikpCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgY29tbWl0KCJzZXRVc2VycyIsIHJlcy5kYXRhKTsKICAgICAgICByZXNvbHZlKHRydWUpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgcm91dGVyLnB1c2goIi9sb2dpbiIpOwogICAgICAgIHJlamVjdChlcnIpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgZmV0Y2hDdXJyZW50VXNlcjogZnVuY3Rpb24gZmV0Y2hDdXJyZW50VXNlcihjb250ZXh0KSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBheGlvc0Jhc2UuZ2V0KCJhdXRoL3VzZXIvIiwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwKICAgICAgICAgIEF1dGhvcml6YXRpb246ICJUb2tlbiAiLmNvbmNhdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YS51c2VybmFtZSk7CiAgICAgICAgY29udGV4dC5jb21taXQoImN1cnJlbnRVc2VyIiwgcmVzLmRhdGEpOwogICAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBMb2dpbjogZnVuY3Rpb24gTG9naW4oY29udGV4dCwgY3JlZGVudGlhbHMpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIGF4aW9zQmFzZS5wb3N0KCJhdXRoL2xvZ2luLXVzZXIvIiwgewogICAgICAgIHVzZXJuYW1lOiBjcmVkZW50aWFscy51c2VybmFtZSwKICAgICAgICBwYXNzd29yZDogY3JlZGVudGlhbHMucGFzc3dvcmQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEua2V5KTsKICAgICAgICBjb250ZXh0LmNvbW1pdCgic2V0VG9rZW4iLCByZXMuZGF0YS5rZXkpOwogICAgICAgIHJlc29sdmUodHJ1ZSk7IC8vIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgLy8gICAgIGF4aW9zQmFzZQogICAgICAgIC8vICAgICAgICAgLnBvc3QoImF1dGgvdXNlci8iLCB7CiAgICAgICAgLy8gICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgIC8vICAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsCiAgICAgICAgLy8gICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBUb2tlbiAke2xvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpfWAsCiAgICAgICAgLy8gICAgICAgICAgICAgfSwKICAgICAgICAvLyAgICAgICAgIH0pCiAgICAgICAgLy8gICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coImFmdGVyIGxvZ2luIik7CiAgICAgICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLnVzZXJuYW1lKTsKICAgICAgICAvLyAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgiY3VycmVudFVzZXIiLCByZXMuZGF0YSk7CiAgICAgICAgLy8gICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTsKICAgICAgICAvLyAgICAgICAgIH0pCiAgICAgICAgLy8gICAgICAgICAuY2F0Y2goKGVycikgPT4gcmVqZWN0KGVycikpOwogICAgICAgIC8vIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIGNvbnNvbGUubG9nKCJlcnJvciEhISIpOwogICAgICAgIGNvbnRleHQuY29tbWl0KCJkZXN0cm95VG9rZW4iKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIExvZ291dDogZnVuY3Rpb24gTG9nb3V0KGNvbnRleHQpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIGF4aW9zQmFzZS5wb3N0KCJhdXRoL2xvZ291dC8iKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidG9rZW4iKTsKICAgICAgICBjb250ZXh0LmNvbW1pdCgiZGVzdHJveVRva2VuIik7CiAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogImxvZ2luIgogICAgICAgIH0pOwogICAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICByZWplY3QoZXJyKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIFJlZ2lzdGVyOiBmdW5jdGlvbiBSZWdpc3Rlcihjb250ZXh0LCBkYXRhKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBheGlvc0Jhc2UucG9zdCgiYXV0aC9yZWdpc3RyYXRpb24vIiwgewogICAgICAgIHVzZXJuYW1lOiBkYXRhLnVzZXJuYW1lLAogICAgICAgIGVtYWlsOiBkYXRhLmVtYWlsLAogICAgICAgIHBhc3N3b3JkMTogZGF0YS5wYXNzd29yZDEsCiAgICAgICAgcGFzc3dvcmQyOiBkYXRhLnBhc3N3b3JkMiAvLyBub3RlISEhIFBsZWFzZWVlZSBkb24ndCBhZGQgY29tbWEoLCkgYXQgdGhlIGVuZCBvZiBkYXRhIGZpZWxkcyBvciBlbHNlIHlvdSB3aWxsIGdldCBhbiBlcnJvciEhISEKCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgIGNvbnRleHQuY29tbWl0KCJuZXdVc2VyIiwgcmVzLmRhdGEpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29udGV4dC5jb21taXQoImRlc3Ryb3lUb2tlbiIpOwogICAgICAgIHJlamVjdChlcnIpOwogICAgICB9KTsKICAgIH0pOwogIH0gLy8gc2V0RGV2SG91cnNNb2RhbCgpIHsKICAvLyAgICAgaWYgKGxvY2FsU3RvcmFnZSkgewogIC8vICAgICAgICAgbGV0IG5leHRQb3B1cCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpc1BvcFVwJykgfHwgbnVsbAogIC8vICAgICAgICAgaWYgKG5leHRQb3B1cCA+IG5ldyBEYXRlKCkpIHsKICAvLyAgICAgICAgICAgICByZXR1cm4gdGhpcy5zaG93ID0gdHJ1ZTsKICAvLyAgICAgICAgIH0KICAvLyAgICAgICAgIGxldCBleHBpcmVzID0gbmV3IERhdGUoKQogIC8vICAgICAgICAgZXhwaXJlcyA9IGV4cGlyZXMuc2V0SG91cnMoZXhwaXJlcy5nZXRIb3VycygpICsgMjQpCiAgLy8gICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaXNQb3BVcCcsIGV4cGlyZXMpCiAgLy8gICAgIH0KICAvLyB9Cgp9Owp2YXIgbXV0YXRpb25zID0gewogIHNldFVzZXJzOiBmdW5jdGlvbiBzZXRVc2VycyhzdGF0ZSwgdXNlcnMpIHsKICAgIHJldHVybiBzdGF0ZS51c2VycyA9IHVzZXJzOwogIH0sCiAgbmV3VXNlcjogZnVuY3Rpb24gbmV3VXNlcihzdGF0ZSwgX25ld1VzZXIpIHsKICAgIHJldHVybiBzdGF0ZS51c2Vycy51bnNoaWZ0KF9uZXdVc2VyKTsKICB9LAogIHNldFRva2VuOiBmdW5jdGlvbiBzZXRUb2tlbihzdGF0ZSwgdG9rZW4pIHsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIHRva2VuKTsKICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgfSwKICBkZXN0cm95VG9rZW46IGZ1bmN0aW9uIGRlc3Ryb3lUb2tlbihzdGF0ZSkgewogICAgc3RhdGUudG9rZW4gPSBudWxsOwogICAgc3RhdGUudXNlciA9IG51bGw7CiAgfSwKICBjdXJyZW50VXNlcjogZnVuY3Rpb24gY3VycmVudFVzZXIoc3RhdGUsIHVzZXIpIHsKICAgIHJldHVybiBzdGF0ZS51c2VyID0gdXNlcjsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["/home/markanthonyvale/dev/news-extractor-admin/frontend/djangovue-template/src/store/modules/user.js"],"names":["axiosBase","router","state","users","isPopUp","localStorage","getItem","user","token","getters","getUsers","isAuthenticated","getAccessToken","requestUser","actions","fetchUsers","commit","Promise","resolve","reject","get","headers","Authorization","then","res","console","log","data","catch","err","push","fetchCurrentUser","context","username","Login","credentials","post","password","key","error","Logout","removeItem","name","Register","email","password1","password2","mutations","setUsers","newUser","unshift","setToken","setItem","destroyToken","currentUser"],"mappings":";AAAA,SAASA,SAAT,QAA0B,mBAA1B,C,CACA;;AACA,OAAOC,MAAP,MAAmB,UAAnB,C,CACA;;AACA,IAAMC,KAAK,GAAG;AACVC,EAAAA,KAAK,EAAE,EADG;AAEVC,EAAAA,OAAO,EAAEC,YAAY,CAACC,OAAb,CAAqB,SAArB,KAAmC,IAFlC;AAGVC,EAAAA,IAAI,EAAE,EAHI;AAIVC,EAAAA,KAAK,EAAEH,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC;AAJ9B,CAAd;AAOA,IAAMG,OAAO,GAAG;AACZC,EAAAA,QAAQ,EAAE,kBAACR,KAAD;AAAA,WAAWA,KAAK,CAACC,KAAjB;AAAA,GADE;AAEZQ,EAAAA,eAFY,2BAEIT,KAFJ,EAEW;AACnB,WAAOA,KAAK,CAACM,KAAN,IAAe,IAAtB,CADmB,CAEnB;AACH,GALW;AAMZI,EAAAA,cAAc,EAAE,wBAACV,KAAD;AAAA,WAAWA,KAAK,CAACM,KAAjB;AAAA,GANJ;AAOZK,EAAAA,WAAW,EAAE,qBAACX,KAAD;AAAA,WAAWA,KAAK,CAACK,IAAjB;AAAA;AAPD,CAAhB;AAUA,IAAMO,OAAO,GAAG;AACZC,EAAAA,UAAU,EAAE,0BAAgB;AAAA,QAAbC,MAAa,QAAbA,MAAa;AACxB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCnB,MAAAA,SAAS,CACJoB,GADL,CACS,YADT,EACuB;AACfC,QAAAA,OAAO,EAAE;AACL,0BAAgB,mCADX;AAELC,UAAAA,aAAa,kBAAWjB,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX;AAFR;AADM,OADvB,EAOKiB,IAPL,CAOU,UAACC,GAAD,EAAS;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAX,QAAAA,MAAM,CAAC,UAAD,EAAaQ,GAAG,CAACG,IAAjB,CAAN;AACAT,QAAAA,OAAO,CAAC,IAAD,CAAP;AACH,OAXL,EAYKU,KAZL,CAYW,UAACC,GAAD,EAAS;AACZ5B,QAAAA,MAAM,CAAC6B,IAAP,CAAY,QAAZ;AACAX,QAAAA,MAAM,CAACU,GAAD,CAAN;AACH,OAfL;AAgBH,KAjBM,CAAP;AAkBH,GApBW;AAqBZE,EAAAA,gBAAgB,EAAE,0BAACC,OAAD,EAAa;AAC3B,WAAO,IAAIf,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCnB,MAAAA,SAAS,CACJoB,GADL,CACS,YADT,EACuB;AACfC,QAAAA,OAAO,EAAE;AACL,0BAAgB,mCADX;AAELC,UAAAA,aAAa,kBAAWjB,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX;AAFR;AADM,OADvB,EAOKiB,IAPL,CAOU,UAACC,GAAD,EAAS;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAF,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASM,QAArB;AACAD,QAAAA,OAAO,CAAChB,MAAR,CAAe,aAAf,EAA8BQ,GAAG,CAACG,IAAlC;AACAT,QAAAA,OAAO,CAAC,IAAD,CAAP;AACH,OAZL,EAaKU,KAbL,CAaW,UAACC,GAAD;AAAA,eAASV,MAAM,CAACU,GAAD,CAAf;AAAA,OAbX;AAcH,KAfM,CAAP;AAgBH,GAtCW;AAuCZK,EAAAA,KAAK,EAAE,eAACF,OAAD,EAAUG,WAAV,EAA0B;AAC7B,WAAO,IAAIlB,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCnB,MAAAA,SAAS,CACJoC,IADL,CACU,kBADV,EAC8B;AACtBH,QAAAA,QAAQ,EAAEE,WAAW,CAACF,QADA;AAEtBI,QAAAA,QAAQ,EAAEF,WAAW,CAACE;AAFA,OAD9B,EAKKd,IALL,CAKU,UAACC,GAAD,EAAS;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASW,GAArB;AACAN,QAAAA,OAAO,CAAChB,MAAR,CAAe,UAAf,EAA2BQ,GAAG,CAACG,IAAJ,CAASW,GAApC;AACApB,QAAAA,OAAO,CAAC,IAAD,CAAP,CAHW,CAIX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,OA1BL,EA2BKU,KA3BL,CA2BW,UAACW,KAAD,EAAW;AACdpB,QAAAA,MAAM,CAACoB,KAAD,CAAN;AACAd,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAM,QAAAA,OAAO,CAAChB,MAAR,CAAe,cAAf;AACH,OA/BL;AAgCH,KAjCM,CAAP;AAkCH,GA1EW;AA2EZwB,EAAAA,MAAM,EAAE,gBAACR,OAAD,EAAa;AACjB,WAAO,IAAIf,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCnB,MAAAA,SAAS,CACJoC,IADL,CACU,cADV,EAEKb,IAFL,CAEU,YAAM;AACRlB,QAAAA,YAAY,CAACoC,UAAb,CAAwB,OAAxB;AACAT,QAAAA,OAAO,CAAChB,MAAR,CAAe,cAAf;AACAf,QAAAA,MAAM,CAAC6B,IAAP,CAAY;AAAEY,UAAAA,IAAI,EAAE;AAAR,SAAZ;AACAxB,QAAAA,OAAO,CAAC,IAAD,CAAP;AACH,OAPL,EAQKU,KARL,CAQW,UAACC,GAAD,EAAS;AACZV,QAAAA,MAAM,CAACU,GAAD,CAAN;AACH,OAVL;AAWH,KAZM,CAAP;AAaH,GAzFW;AA0FZc,EAAAA,QAAQ,EAAE,kBAACX,OAAD,EAAUL,IAAV,EAAmB;AACzB,WAAO,IAAIV,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCnB,MAAAA,SAAS,CACJoC,IADL,CACU,oBADV,EACgC;AACxBH,QAAAA,QAAQ,EAAEN,IAAI,CAACM,QADS;AAExBW,QAAAA,KAAK,EAAEjB,IAAI,CAACiB,KAFY;AAGxBC,QAAAA,SAAS,EAAElB,IAAI,CAACkB,SAHQ;AAIxBC,QAAAA,SAAS,EAAEnB,IAAI,CAACmB,SAJQ,CAKxB;;AALwB,OADhC,EAQKvB,IARL,CAQU,UAACC,GAAD,EAAS;AACXN,QAAAA,OAAO,CAAC,IAAD,CAAP;AACAO,QAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AACAF,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAK,QAAAA,OAAO,CAAChB,MAAR,CAAe,SAAf,EAA0BQ,GAAG,CAACG,IAA9B;AACH,OAbL,EAcKC,KAdL,CAcW,UAACC,GAAD,EAAS;AACZG,QAAAA,OAAO,CAAChB,MAAR,CAAe,cAAf;AACAG,QAAAA,MAAM,CAACU,GAAD,CAAN;AACH,OAjBL;AAkBH,KAnBM,CAAP;AAoBH,GA/GW,CAgHZ;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;;AA7HY,CAAhB;AAgIA,IAAMkB,SAAS,GAAG;AACdC,EAAAA,QAAQ,EAAE,kBAAC9C,KAAD,EAAQC,KAAR;AAAA,WAAmBD,KAAK,CAACC,KAAN,GAAcA,KAAjC;AAAA,GADI;AAEd8C,EAAAA,OAAO,EAAE,iBAAC/C,KAAD,EAAQ+C,QAAR;AAAA,WAAoB/C,KAAK,CAACC,KAAN,CAAY+C,OAAZ,CAAoBD,QAApB,CAApB;AAAA,GAFK;AAGdE,EAAAA,QAAQ,EAAE,kBAACjD,KAAD,EAAQM,KAAR,EAAkB;AACxBH,IAAAA,YAAY,CAAC+C,OAAb,CAAqB,OAArB,EAA8B5C,KAA9B;AACAN,IAAAA,KAAK,CAACM,KAAN,GAAcA,KAAd;AACH,GANa;AAOd6C,EAAAA,YAAY,EAAE,sBAACnD,KAAD,EAAW;AACrBA,IAAAA,KAAK,CAACM,KAAN,GAAc,IAAd;AACAN,IAAAA,KAAK,CAACK,IAAN,GAAa,IAAb;AACH,GAVa;AAWd+C,EAAAA,WAAW,EAAE,qBAACpD,KAAD,EAAQK,IAAR;AAAA,WAAkBL,KAAK,CAACK,IAAN,GAAaA,IAA/B;AAAA;AAXC,CAAlB;AAcA,eAAe;AACXL,EAAAA,KAAK,EAALA,KADW;AAEXO,EAAAA,OAAO,EAAPA,OAFW;AAGXK,EAAAA,OAAO,EAAPA,OAHW;AAIXiC,EAAAA,SAAS,EAATA;AAJW,CAAf","sourcesContent":["import { axiosBase } from \"@/api/axiosConfig\";\n// import index from '@/store/index';\nimport router from \"@/router\";\n// import axios from 'axios';\nconst state = {\n    users: [],\n    isPopUp: localStorage.getItem(\"isPopUp\") || null,\n    user: {},\n    token: localStorage.getItem(\"token\") || null,\n};\n\nconst getters = {\n    getUsers: (state) => state.users,\n    isAuthenticated(state) {\n        return state.token != null;\n        // return localStorage.getItem('token') != null\n    },\n    getAccessToken: (state) => state.token,\n    requestUser: (state) => state.user,\n};\n\nconst actions = {\n    fetchUsers: ({ commit }) => {\n        return new Promise((resolve, reject) => {\n            axiosBase\n                .get(\"auth/user/\", {\n                    headers: {\n                        \"Content-Type\": \"application/x-www-form-urlencoded\",\n                        Authorization: `Token ${localStorage.getItem(\"token\")}`,\n                    },\n                })\n                .then((res) => {\n                    console.log(res.data);\n                    commit(\"setUsers\", res.data);\n                    resolve(true);\n                })\n                .catch((err) => {\n                    router.push(\"/login\");\n                    reject(err);\n                });\n        });\n    },\n    fetchCurrentUser: (context) => {\n        return new Promise((resolve, reject) => {\n            axiosBase\n                .get(\"auth/user/\", {\n                    headers: {\n                        \"Content-Type\": \"application/x-www-form-urlencoded\",\n                        Authorization: `Token ${localStorage.getItem(\"token\")}`,\n                    },\n                })\n                .then((res) => {\n                    console.log(res.data);\n                    console.log(res.data.username);\n                    context.commit(\"currentUser\", res.data);\n                    resolve(true);\n                })\n                .catch((err) => reject(err));\n        });\n    },\n    Login: (context, credentials) => {\n        return new Promise((resolve, reject) => {\n            axiosBase\n                .post(\"auth/login-user/\", {\n                    username: credentials.username,\n                    password: credentials.password\n                })\n                .then((res) => {\n                    console.log(res.data.key);\n                    context.commit(\"setToken\", res.data.key);\n                    resolve(true);\n                    // return new Promise((resolve, reject) => {\n                    //     axiosBase\n                    //         .post(\"auth/user/\", {\n                    //             headers: {\n                    //                 \"Content-Type\": \"application/x-www-form-urlencoded\",\n                    //                 Authorization: `Token ${localStorage.getItem(\"token\")}`,\n                    //             },\n                    //         })\n                    //         .then((res) => {\n                    //             console.log(\"after login\");\n                    //             console.log(res.data);\n                    //             console.log(res.data.username);\n                    //             context.commit(\"currentUser\", res.data);\n                    //             resolve(true);\n                    //         })\n                    //         .catch((err) => reject(err));\n                    // });\n                })\n                .catch((error) => {\n                    reject(error);\n                    console.log(\"error!!!\");\n                    context.commit(\"destroyToken\");\n                });\n        });\n    },\n    Logout: (context) => {\n        return new Promise((resolve, reject) => {\n            axiosBase\n                .post(\"auth/logout/\")\n                .then(() => {\n                    localStorage.removeItem(\"token\");\n                    context.commit(\"destroyToken\");\n                    router.push({ name: \"login\" });\n                    resolve(true);\n                })\n                .catch((err) => {\n                    reject(err);\n                });\n        });\n    },\n    Register: (context, data) => {\n        return new Promise((resolve, reject) => {\n            axiosBase\n                .post(\"auth/registration/\", {\n                    username: data.username,\n                    email: data.email,\n                    password1: data.password1,\n                    password2: data.password2,\n                    // note!!! Pleaseeee don't add comma(,) at the end of data fields or else you will get an error!!!!\n                })\n                .then((res) => {\n                    resolve(true);\n                    console.log(data);\n                    console.log(res.data);\n                    context.commit(\"newUser\", res.data);\n                })\n                .catch((err) => {\n                    context.commit(\"destroyToken\");\n                    reject(err);\n                });\n        });\n    },\n    // setDevHoursModal() {\n    //     if (localStorage) {\n    //         let nextPopup = localStorage.getItem('isPopUp') || null\n\n    //         if (nextPopup > new Date()) {\n    //             return this.show = true;\n    //         }\n\n    //         let expires = new Date()\n    //         expires = expires.setHours(expires.getHours() + 24)\n\n    //         localStorage.setItem('isPopUp', expires)\n    //     }\n    // }\n};\n\nconst mutations = {\n    setUsers: (state, users) => (state.users = users),\n    newUser: (state, newUser) => state.users.unshift(newUser),\n    setToken: (state, token) => {\n        localStorage.setItem(\"token\", token);\n        state.token = token;\n    },\n    destroyToken: (state) => {\n        state.token = null;\n        state.user = null;\n    },\n    currentUser: (state, user) => (state.user = user),\n};\n\nexport default {\n    state,\n    getters,\n    actions,\n    mutations,\n};"]}]}